{% extends 'chat/base.html' %}
{% load static %}

{% block content %}
<div class="p-6 pb-32 h-full overflow-y-auto custom-scroll">
    
    <div class="text-center mb-10 mt-4">
        <h1 class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-500 to-yellow-500 mb-2 drop-shadow-lg tracking-tighter uppercase font-display">Premium Access</h1>
        <p class="text-gray-400 text-xs tracking-[0.3em] font-bold uppercase">Upgrade Your Frequency</p>
    </div>

    <div class="space-y-6 max-w-md mx-auto">
        
        <div class="relative group">
            <div class="absolute -inset-0.5 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-2xl blur opacity-30 group-hover:opacity-75 transition duration-500"></div>
            <div class="relative bg-[#0a0a0a] rounded-2xl p-6 border border-blue-500/30">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-black text-blue-400 italic">PILOT</h3>
                    <span class="text-xl font-bold text-white">Rs. 100</span>
                </div>
                <ul class="space-y-2 mb-6">
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-blue-500">âœ“</span> 2x XP Speed (Level Up Fast)</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-blue-500">âœ“</span> Exclusive Blue Badge</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-blue-500">âœ“</span> Unlock Custom Wallpapers</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-blue-500">âœ“</span> 20 MB Upload Limit</li>
                </ul>
                <button onclick="openPayModal('Pilot', 100, 'blue')" class="w-full py-3 rounded-xl bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-bold text-sm shadow-lg hover:scale-[1.02] transition">SELECT PLAN</button>
            </div>
        </div>

        <div class="relative group">
            <div class="absolute -inset-0.5 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl blur opacity-30 group-hover:opacity-75 transition duration-500"></div>
            <div class="relative bg-[#0a0a0a] rounded-2xl p-6 border border-purple-500/30">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-black text-purple-400 italic">ACE</h3>
                    <span class="text-xl font-bold text-white">Rs. 250</span>
                </div>
                <ul class="space-y-2 mb-6">
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-purple-500">âœ“</span> <strong>4x XP Speed</strong> (Insane)</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-purple-500">âœ“</span> Neon Glow Username</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-purple-500">âœ“</span> Ghost Mode (View without Seen)</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-purple-500">âœ“</span> Premium Stickers & 50MB Limit</li>
                </ul>
                <button onclick="openPayModal('Ace', 250, 'purple')" class="w-full py-3 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold text-sm shadow-lg hover:scale-[1.02] transition">SELECT PLAN</button>
            </div>
        </div>

        <div class="relative group">
            <div class="absolute -inset-1 bg-gradient-to-r from-yellow-500 via-red-500 to-yellow-500 rounded-2xl blur opacity-40 group-hover:opacity-100 transition duration-500 animate-pulse"></div>
            <div class="relative bg-black rounded-2xl p-6 border border-yellow-500/50">
                <div class="absolute top-0 right-0 bg-yellow-500 text-black text-[10px] font-bold px-3 py-1 rounded-bl-xl rounded-tr-xl">BEST VALUE</div>
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-3xl font-black text-yellow-400 italic">COMMANDER</h3>
                    <span class="text-2xl font-bold text-white">Rs. 500</span>
                </div>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-center gap-2 text-sm text-white font-bold"><span class="text-yellow-500">ðŸ‘‘</span> 7x XP Multiplier (Max Speed)</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-yellow-500">âœ“</span> RGB Rainbow Name Effect</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-yellow-500">âœ“</span> Animated Profile Picture (GIFs)</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-yellow-500">âœ“</span> Grand Entrance Notification</li>
                    <li class="flex items-center gap-2 text-sm text-gray-300"><span class="text-yellow-500">âœ“</span> Exclusive DMs Access</li>
                </ul>
                <button onclick="openPayModal('Commander', 500, 'yellow')" class="w-full py-4 rounded-xl bg-gradient-to-r from-yellow-500 to-red-600 text-white font-black text-base shadow-xl shadow-yellow-500/20 hover:scale-[1.03] transition">BECOME A LEGEND</button>
            </div>
        </div>

    </div>
</div>

<div id="payModal" class="fixed inset-0 z-[250] hidden bg-black/90 backdrop-blur-md flex items-center justify-center p-4">
    <div class="bg-[#111] border border-gray-700 w-full max-w-sm rounded-3xl p-6 relative shadow-2xl">
        <button onclick="document.getElementById('payModal').classList.add('hidden')" class="absolute top-4 right-4 text-gray-500 hover:text-white">âœ•</button>
        
        <h2 class="text-xl font-bold text-white mb-1">Confirm Upgrade</h2>
        <p class="text-sm text-gray-400 mb-6">Plan: <span id="modal-plan" class="text-white font-bold"></span></p>
        
        <div class="bg-gray-900 rounded-xl p-4 mb-6 border border-gray-800">
            <p class="text-[10px] text-gray-500 uppercase tracking-widest mb-2">Payment Instructions</p>
            <ol class="text-xs text-gray-300 space-y-3 list-decimal ml-4">
                <li>Go to <strong>EasyPaisa / JazzCash</strong>.</li>
                <li>Send <strong>Rs. <span id="modal-price"></span></strong> to our Finance Agent:</li>
                
                <li class="bg-black/50 p-2 rounded border border-white/10">
                    <span class="block text-[10px] text-gray-500 uppercase">Account Number</span>
                    <span class="text-lg font-mono text-green-400 font-bold select-all">0312-3456789</span>
                    <span class="block text-[10px] text-gray-500 mt-1 uppercase">Account Title (Verify)</span>
                    <span class="text-xs text-white font-bold">Afnan Ahmed</span> </li>

                <li>In <strong>"Message/Reference"</strong>, type ONLY this code: <br>
                    <span class="text-lg font-mono text-yellow-400 font-bold bg-white/10 px-2 rounded mt-1 inline-block select-all">{{ payment_code }}</span>
                </li>
                <li>After payment, Copy the <strong>Transaction ID (TID)</strong>.</li>
            </ol>
        </div>

        <form method="POST">
            {% csrf_token %}
            <input type="hidden" name="pkg_name" id="form-pkg">
            <input type="hidden" name="payment_code" value="{{ payment_code }}">
            
            <label class="text-[10px] text-gray-500 uppercase font-bold ml-1">Paste Transaction ID (TID)</label>
            <input type="text" name="transaction_id" placeholder="e.g. 84219XXXX" class="w-full bg-black border border-gray-700 rounded-xl px-4 py-3 mt-1 mb-4 text-white font-mono focus:border-green-500 outline-none" required>
            
            <button class="w-full py-3 rounded-xl bg-green-600 hover:bg-green-500 text-white font-bold shadow-lg transition">VERIFY & UPGRADE</button>
        </form>
    </div>
</div>

<script>
    function openPayModal(plan, price, color) {
        document.getElementById('modal-plan').innerText = plan;
        document.getElementById('modal-plan').className = `font-bold text-${color}-400`;
        document.getElementById('modal-price').innerText = price;
        document.getElementById('form-pkg').value = plan;
        document.getElementById('payModal').classList.remove('hidden');
    }
</script>
{% endblock %}